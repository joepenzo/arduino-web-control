
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="content-script-type" content="text/javascript" />
    <meta http-equiv="content-style-type" content="text/css" />

    <title>What do you know? - Demo</title>
    <meta name="description" content="Where have I been?" />

    <script src="http://www.google.com/jsapi" type="text/javascript">
</script>
	<script type="text/javascript">

google.load("jquery", "1.3.2");
google.load("jqueryui", "1.7.3");
</script>

<link rel="stylesheet" type="text/css" href="stylesheets/style.css" media="all" />

	<script type="text/javascript">

$(document).ready(function() {
    //Counter
    counter = 0;
    //Make element draggable
    $(".drag").draggable({
        helper: 'clone',
        containment: 'frame',

        //When first dragged
        stop: function(ev, ui) {
            var pos = $(ui.helper).offset();
            objName = "#clonediv" + counter
            $(objName).css({"left": pos.left,"top": pos.top});
            $(objName).removeClass("drag");


            //When an existiung object is dragged
            $(objName).draggable({
                containment: 'parent',
                stop: function(ev, ui) {
                    var pos = $(ui.helper).offset();
                //console.log($(this).attr("id"));
                //console.log(pos.left)
                //console.log(pos.top)
                }
            });
        }
    });
    //Make element droppable
//    $("#frame").droppable({
    $("#added_items").droppable({
        drop: function(ev, ui) {
            if (ui.helper.attr('id').search(/drag[0-9]/) != -1) {
                counter++;
                var element = $(ui.draggable).clone();
                element.addClass("tempclass");
                $(this).append(element);
                $(".tempclass").attr("id", "clonediv" + counter);
                $("#clonediv" + counter).removeClass("tempclass");

                //Get the dynamically item id
                draggedNumber = ui.helper.attr('id').search(/drag([0-9])/)
                itemDragged = "dragged" + RegExp.$1
                //console.log(itemDragged)
                
                $("#clonediv" + counter).addClass(itemDragged);
            }
        }
    });
});

</script>



</head>

<body>



<div id="holder">

    <div id="added_items" class="dottedContainer">
        <ul id="drop_pins_digital">
            <li id="drop_pin_13_d" value="13" class="makeMeDroppable_1"> <h3>13</h3></li>
            <li id="drop_pin_12_d" value="12" class="makeMeDroppable_1"> <h3>12</h3></li>
            <li id="drop_pin_11_d" value="11" class="makeMeDroppable_1"> <h3>11</h3></li>
            <li id="drop_pin_10_d" value="10" class="makeMeDroppable_1"> <h3>10</h3></li>
            <li id="drop_pin_9_d" value="9" class="makeMeDroppable_1"> <h3>9</h3></li>
            <li id="drop_pin_8_d" value="8" class="makeMeDroppable_1"> <h3>8</h3></li>
            <li id="drop_pin_7_d" value="7" class="makeMeDroppable_1"> <h3>7</h3></li>
            <li id="drop_pin_6_d" value="6" class="makeMeDroppable_1"> <h3>6</h3></li>
            <li id="drop_pin_5_d" value="5" class="makeMeDroppable_1"> <h3>5</h3></li>
            <li id="drop_pin_4_d" value="4" class="makeMeDroppable_1"> <h3>4</h3></li>
            <li id="drop_pin_3_d" value="3" class="makeMeDroppable_1"> <h3>3</h3></li>
            <li id="drop_pin_2_d" value="2" class="makeMeDroppable_1"> <h3>2</h3></li>
        </ul>
        <div id="arduino_image"></div>
        <ul id="drop_pins_analog">
            <li id="drop_pin_0_a" value="A0" class="makeMeDroppable_1"> <h3>A0</h3></li>
            <li id="drop_pin_1_a" value="A1" class="makeMeDroppable_1"> <h3>A1</h3></li>
            <li id="drop_pin_2_a" value="A2" class="makeMeDroppable_1"> <h3>A2</h3></li>
            <li id="drop_pin_3_a" value="A3" class="makeMeDroppable_1"> <h3>A3</h3></li>
            <li id="drop_pin_4_a" value="A4" class="makeMeDroppable_1"> <h3>A4</h3></li>
            <li id="drop_pin_5_a" value="A5" class="makeMeDroppable_1"> <h3>A5</h3></li>
        </ul>
    </div>
    <div id="settings" class="dottedContainer">
        <div id="settings_form" >
            <label for="ip_text">ip-addres:</label> <input type="text" id="ip_text" /> <br>
            <label for="ip_text">port:</label><input type="text" id="port_text" /> <br>
            <label for="ip_text">gateway:</label><input type="text" id="gateway_text" /> <br>
            <label for="ip_text">subnet:</label><input type="text" id="subnet_text" /> <br>
            <button type="button" id="generate_button">code it!</button>
        </div>
    </div>

    <div id="draggable_items">
        <!--<div id="light" value="light" class="drag"> </div>-->
        <div id="drag1" value="light" class="drag"> </div>
    </div>
</div>


</body>
</html>